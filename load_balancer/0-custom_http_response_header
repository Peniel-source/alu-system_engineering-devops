#!/usr/bin/env bash
# Configure Nginx to add a custom HTTP response header

# Update package list and install nginx if not installed
apt-get update
apt-get install -y nginx

# Get the hostname
HOSTNAME=$(hostname)

# Configure Nginx to add custom header
# This adds the X-Served-By header to the default server block
sed -i "/server_name _;/a \    add_header X-Served-By $HOSTNAME;" /etc/nginx/sites-available/default

# Restart Nginx to apply changes
service nginx restart
